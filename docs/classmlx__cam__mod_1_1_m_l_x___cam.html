<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME Term Project: mlx_cam_mod.MLX_Cam Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ME Term Project<span id="projectnumber">&#160;1.1.2</span>
   </div>
   <div id="projectbrief">Nerf Turret</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>mlx_cam_mod</b></li><li class="navelem"><a class="el" href="classmlx__cam__mod_1_1_m_l_x___cam.html">MLX_Cam</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classmlx__cam__mod_1_1_m_l_x___cam-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">mlx_cam_mod.MLX_Cam Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class which wraps an MLX90640 thermal infrared camera driver to make it easier to grab and use an image.  
 <a href="classmlx__cam__mod_1_1_m_l_x___cam.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae782856432aa071b5970ef06c4868746"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlx__cam__mod_1_1_m_l_x___cam.html#ae782856432aa071b5970ef06c4868746">__init__</a> (self, i2c, address=0x33, pattern=InterleavedPattern, width=NUM_COLS, height=NUM_ROWS)</td></tr>
<tr class="memdesc:ae782856432aa071b5970ef06c4868746"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up an MLX90640 camera.  <br /></td></tr>
<tr class="separator:ae782856432aa071b5970ef06c4868746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08fe849565ba22d31f20a895c7aba178"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlx__cam__mod_1_1_m_l_x___cam.html#a08fe849565ba22d31f20a895c7aba178">get_image</a> (self)</td></tr>
<tr class="memdesc:a08fe849565ba22d31f20a895c7aba178"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get one image from a MLX90640 camera.  <br /></td></tr>
<tr class="separator:a08fe849565ba22d31f20a895c7aba178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb090d4b08779b666fb8db9471b7a457"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlx__cam__mod_1_1_m_l_x___cam.html#adb090d4b08779b666fb8db9471b7a457">get_bytes</a> (self, array)</td></tr>
<tr class="memdesc:adb090d4b08779b666fb8db9471b7a457"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a bytes object containing image data.  <br /></td></tr>
<tr class="separator:adb090d4b08779b666fb8db9471b7a457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a937e3917dec2a66058f6aa4900462d65"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlx__cam__mod_1_1_m_l_x___cam.html#a937e3917dec2a66058f6aa4900462d65">calculate_centroid_bytes</a> (self, ref_array, image_array, limit=128)</td></tr>
<tr class="memdesc:a937e3917dec2a66058f6aa4900462d65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates centroid from bytearray of points in image.  <br /></td></tr>
<tr class="separator:a937e3917dec2a66058f6aa4900462d65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c0f2068e62d3c29eee26343930b6bbf"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlx__cam__mod_1_1_m_l_x___cam.html#a4c0f2068e62d3c29eee26343930b6bbf">find_angle</a> (self, ref_array, image_array, limit=20)</td></tr>
<tr class="memdesc:a4c0f2068e62d3c29eee26343930b6bbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the angle in the cameras view cone.  <br /></td></tr>
<tr class="separator:a4c0f2068e62d3c29eee26343930b6bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a5bf5c5b61e01649a504df5e56a23b1a7"><td class="memItemLeft" align="right" valign="top"><a id="a5bf5c5b61e01649a504df5e56a23b1a7" name="a5bf5c5b61e01649a504df5e56a23b1a7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_i2c</b></td></tr>
<tr class="memdesc:a5bf5c5b61e01649a504df5e56a23b1a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The I2C bus to which the camera is attached. <br /></td></tr>
<tr class="separator:a5bf5c5b61e01649a504df5e56a23b1a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbf34a9f9ab460fa1a7ff8ea80bbc52b"><td class="memItemLeft" align="right" valign="top"><a id="adbf34a9f9ab460fa1a7ff8ea80bbc52b" name="adbf34a9f9ab460fa1a7ff8ea80bbc52b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_addr</b></td></tr>
<tr class="memdesc:adbf34a9f9ab460fa1a7ff8ea80bbc52b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The address of the camera on the I2C bus. <br /></td></tr>
<tr class="separator:adbf34a9f9ab460fa1a7ff8ea80bbc52b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34915323218fbb8021649b9cffc71322"><td class="memItemLeft" align="right" valign="top"><a id="a34915323218fbb8021649b9cffc71322" name="a34915323218fbb8021649b9cffc71322"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_pattern</b></td></tr>
<tr class="memdesc:a34915323218fbb8021649b9cffc71322"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pattern for reading the camera, usually ChessPattern. <br /></td></tr>
<tr class="separator:a34915323218fbb8021649b9cffc71322"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0af675362ad530635dbe4cb97034f1cb"><td class="memItemLeft" align="right" valign="top"><a id="a0af675362ad530635dbe4cb97034f1cb" name="a0af675362ad530635dbe4cb97034f1cb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_width</b></td></tr>
<tr class="memdesc:a0af675362ad530635dbe4cb97034f1cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The width of the image in pixels, which should be 32. <br /></td></tr>
<tr class="separator:a0af675362ad530635dbe4cb97034f1cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1a0a9014b18850a38873807767c41f5"><td class="memItemLeft" align="right" valign="top"><a id="ad1a0a9014b18850a38873807767c41f5" name="ad1a0a9014b18850a38873807767c41f5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_height</b></td></tr>
<tr class="memdesc:ad1a0a9014b18850a38873807767c41f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The height of the image in pixels, which should be 24. <br /></td></tr>
<tr class="separator:ad1a0a9014b18850a38873807767c41f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ad8dfb80485c064d591241809baf50"><td class="memItemLeft" align="right" valign="top"><a id="a32ad8dfb80485c064d591241809baf50" name="a32ad8dfb80485c064d591241809baf50"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_camera</b></td></tr>
<tr class="separator:a32ad8dfb80485c064d591241809baf50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3694622d864d5fe399391d6bf558be4a"><td class="memItemLeft" align="right" valign="top"><a id="a3694622d864d5fe399391d6bf558be4a" name="a3694622d864d5fe399391d6bf558be4a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_image</b></td></tr>
<tr class="memdesc:a3694622d864d5fe399391d6bf558be4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A local reference to the image object within the camera driver. <br /></td></tr>
<tr class="separator:a3694622d864d5fe399391d6bf558be4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class which wraps an MLX90640 thermal infrared camera driver to make it easier to grab and use an image. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae782856432aa071b5970ef06c4868746" name="ae782856432aa071b5970ef06c4868746"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae782856432aa071b5970ef06c4868746">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mlx_cam_mod.MLX_Cam.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i2c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>address</em> = <code>0x33</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pattern</em> = <code>InterleavedPattern</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>width</em> = <code>NUM_COLS</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>height</em> = <code>NUM_ROWS</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up an MLX90640 camera. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i2c</td><td>An I2C bus which has been set up to talk to the camera; this must be a bus object which has already been set up </td></tr>
    <tr><td class="paramname">address</td><td>The address of the camera on the I2C bus (default 0x33) </td></tr>
    <tr><td class="paramname">pattern</td><td>The way frames are interleaved, as we read only half the pixels at a time (default ChessPattern) </td></tr>
    <tr><td class="paramname">width</td><td>The width of the image in pixels; leave it at default </td></tr>
    <tr><td class="paramname">height</td><td>The height of the image in pixels; leave it at default </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a937e3917dec2a66058f6aa4900462d65" name="a937e3917dec2a66058f6aa4900462d65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a937e3917dec2a66058f6aa4900462d65">&#9670;&#160;</a></span>calculate_centroid_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mlx_cam_mod.MLX_Cam.calculate_centroid_bytes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ref_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>limit</em> = <code>128</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates centroid from bytearray of points in image. </p>
<p>calculates the centroid of the pixels above a limit value in the bytearray from image_array also recieves a reference array of cold pixels to get rid of any variation caused by camera </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ref_array</td><td>A bytearray of image values for a cold wall in order starting at top left pixel </td></tr>
    <tr><td class="paramname">image_array</td><td>A bytearray of image values in order starting at top left pixel Lines are 32 long, there are 24 lines total </td></tr>
    <tr><td class="paramname">limit</td><td>A 8 bit integer value for the lower limit value the camera considers as a warm pixel </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A tuple of x, y values of the centroid position </dd></dl>

</div>
</div>
<a id="a4c0f2068e62d3c29eee26343930b6bbf" name="a4c0f2068e62d3c29eee26343930b6bbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c0f2068e62d3c29eee26343930b6bbf">&#9670;&#160;</a></span>find_angle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mlx_cam_mod.MLX_Cam.find_angle </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ref_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>limit</em> = <code>20</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the angle in the cameras view cone. </p>
<p>Runs calculate centroid to find centerpoint then scales based on the specified view angles of the camera (55 x 35 degrees) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ref_array</td><td>A bytearray of image values for a cold wall in order starting at top left pixel </td></tr>
    <tr><td class="paramname">image_array</td><td>A bytearray of image values in order starting at top left pixel Lines are 32 long, there are 24 lines total </td></tr>
    <tr><td class="paramname">limit</td><td>A 8 bit integer value for the lower limit value the camera considers as a warm pixel </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A tuple of pitch yaw angles for movement of the gun <br  />
 </dd></dl>

</div>
</div>
<a id="adb090d4b08779b666fb8db9471b7a457" name="adb090d4b08779b666fb8db9471b7a457"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb090d4b08779b666fb8db9471b7a457">&#9670;&#160;</a></span>get_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mlx_cam_mod.MLX_Cam.get_bytes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a bytes object containing image data. </p>
<p>This function generates a byte array, with each byte representing a single pixel. By using a byte array we can get all the data at once without running out of memory and operations can be performed much more quickly </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>The array of data to be presented </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a bytearray of image pixel values (768 bytes) </dd></dl>

</div>
</div>
<a id="a08fe849565ba22d31f20a895c7aba178" name="a08fe849565ba22d31f20a895c7aba178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08fe849565ba22d31f20a895c7aba178">&#9670;&#160;</a></span>get_image()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mlx_cam_mod.MLX_Cam.get_image </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get one image from a MLX90640 camera. </p>
<p>Grab one image from the given camera and return it. Both subframes (the odd checkerboard portions of the image) are grabbed and combined (maybe; this is the raw version, so the combination is sketchy and not fully tested). It is assumed that the camera is in the ChessPattern (default) mode as it probably should be. </p><dl class="section return"><dt>Returns</dt><dd>A reference to the image object we've just filled with data </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="mlx__cam__mod_8py.html">mlx_cam_mod.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
